{"version":3,"sources":["wasm-loader.ts"],"names":["WasmLoader","joinPath","path","_i","arguments","length","joined","i","arg","undefined","normalizePath","isAbsolute","charCodeAt","trailingSeparator","normalizeStringPosix","allowAboveRoot","code","res","lastSlash","dots","start","j","slice","dirname","hasRoot","end","matchedSlash","Utf8ArrayToStr","TextDecoder","utf8Decoder_1","buf","decode","c","char2","char3","out","len","byteLength","String","fromCharCode","WASMScanner","this","bodyLength","v","Uint8Array","FindSect","id","s","z","ReadU32v","x","found","prototype","SetOffs","Skip","numberOfBytes","Error","ReadBuf","ReadBufOfLen","ReadUTF8Str","ReadUTF8StrOfLen","b","subarray","pos","result","shift","SectIDType","from","SectIDImport","ModuleKind","Loader","options","_modules","Map","load","ref","parentRef","_this","Promise","resolve","reject","normalizeRef","m","get","loading","push","error","set","fetch","then","_load","kind","loadBuf","has","defineAMD","dependencies","factory","_ref","_dependencies","_factory","_parentRef","Array","exports","pv","map","depref","subref","resolveImport","all","returnedExports","apply","forEach","p","m0","err","Wasm","_loadWasm","catch","JavaScript","verifyModule","message","imports","readWasmImports","resolveImports","instantiateModule","importObj","resolvedCount","decrResolved","funcnames","modref","funcs","funcName","importSect","count","modname","funcname","imps","substr","url","Request","ok","status","errmsg","statusText","arrayBuffer","module","k","window","global"],"mappings":"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","file":"wasm-loader.js","sourceRoot":"./"}